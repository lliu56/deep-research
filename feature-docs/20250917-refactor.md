# Main ideas:

## Input: user query and config
- query 
- auditing criteria
- depth
- breadth
- output format

## Output:
- verified contacts inserted into db in the correct format


## How it's run:
- cron job -> runs for x amount of days at n amount of interval
- the cron script in github calls the deep-research api/script

---
Refactor ideas:
- instead of the cli prompting to get started, we just have it pull the input from a local file called RESEARCH_INPUT.json that I will update everytime I wanna change the query and configs

- Auditing flow: add a flow where it randomly samples some of the contacts and does research on them to see if the info is correct,
* if not correct, fix them 
Record any instances of these events in the final report

- instead of the md output I will need a structured json output which perfectly syncs with the contacts db-schemas, and will be inserted into the db in the same script after doing the research

- research report will be delivered to the user via resend email after the research and insertion is completed

---
## Output-schemas/db-schemas (contacts table):
Follow `docs/emailflow-db-schemas.md` as the ground truth.
* name — Contact's full name
* email — Contact's email
* company — Company name
* tags — Array of strings (e.g., ["new york", "private school"])
* position — Official job title (e.g., Director of Technology, Principal, etc.)
* city — City location of school
* stateProvince — State or province
* country — Country
* number — Main or direct phone number (include extension if available; leave blank if not confidently found)
* timeZone — Local time zone (e.g., "America/New_York")
* department — Department or division (e.g., Administration, Technology, Curriculum; leave blank if unclear)
* priority — Decision-maker priority, determined by the {contact_hierarchy} list (`1` = highest, increasing numbers = lower priority)
* signal — Type of signal the contact gave off (e.g., Funding, Hiring, Article)
* signalLevel — Signal strength as text
* compliment — One-sentence compliment referencing the signal (e.g., Great to see your school recently investing in innovative programs)
* industry — Contact’s industry (e.g., Education)
* links — String of URL(s); if multiple, join with commas (e.g., "https://article-link1.com, https://article-link2.com")
* source — Hard code this as "deep-research"

---

## Examples
- Example db output format is in example_output.md
- Example final report is in example_report.md


## Implementation

- When the BYPASS_DEEP_RESEARCH in .env.local is true, bypass the ACTUAL deep research logic and automatically mark as successful and use the /test/mock-output.json as the output, and the mock-report.html as the final report
